<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Module options - liqwid-nix</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../reference/modules.html" class="active"><strong aria-hidden="true">2.</strong> Module options</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">liqwid-nix</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="debug"><a class="header" href="#debug">debug</a></h2>
<p>Whether to add the attributes <code>debug</code>, <code>allSystems</code> and <code>currentSystem</code>
to the flake output. When <code>true</code>, this allows inspection of options via
<code>nix repl</code>.</p>
<pre><code>$ nix repl
nix-repl&gt; :lf .
nix-repl&gt; currentSystem._module.args.pkgs.hello
«derivation /nix/store/7vf0d0j7majv1ch1xymdylyql80cn5fp-hello-2.12.1.drv»
</code></pre>
<p>Each of <code>debug</code>, <code>allSystems.&lt;system&gt;</code> and <code>currentSystem</code> is an
attribute set consisting of the <code>config</code> attributes, plus the extra
attributes <code>_module</code>, <code>config</code>, <code>options</code>, <code>extendModules</code>. So note that
these are not part of the <code>config</code> parameter, but are merged in for
debugging convenience.</p>
<ul>
<li><code>debug</code>: The top-level options</li>
<li><code>allSystems</code>: The <code>perSystem</code> submodule applied to the configured <code>systems</code>.</li>
<li><code>currentSystem</code>: Shortcut into <code>allSystems</code>. Only available in impure mode.
Works for arbitrary system values.</li>
</ul>
<p>See <a href="../debug.html">Expore and debug option values</a> for more examples.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>false
</code></pre>
<h2 id="flake"><a class="header" href="#flake">flake</a></h2>
<p>Raw flake output attributes. Any attribute can be set here, but some
attributes are represented by options, to provide appropriate
configuration merging.</p>
<p><em><em>Type</em></em>:
lazy attribute set of raw value</p>
<h2 id="flakeapps"><a class="header" href="#flakeapps">flake.apps</a></h2>
<p>See {option}<code>perSystem.apps</code> for description and examples.</p>
<p><em><em>Type</em></em>:
lazy attribute set of lazy attribute set of (submodule)</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="flakeappsnamenameprogram"><a class="header" href="#flakeappsnamenameprogram">flake.apps.&lt;name&gt;.&lt;name&gt;.program</a></h2>
<p>A path to an executable or a derivation with <code>meta.mainProgram</code>.</p>
<p><em><em>Type</em></em>:
string or package convertible to it</p>
<h2 id="flakeappsnamenametype"><a class="header" href="#flakeappsnamenametype">flake.apps.&lt;name&gt;.&lt;name&gt;.type</a></h2>
<p>A type tag for <code>apps</code> consumers.</p>
<p><em><em>Type</em></em>:
value &quot;app&quot; (singular enum)</p>
<p><em><em>Default</em></em></p>
<pre><code>&quot;app&quot;
</code></pre>
<h2 id="flakechecks"><a class="header" href="#flakechecks">flake.checks</a></h2>
<p>See {option}<code>perSystem.checks</code> for description and examples.</p>
<p><em><em>Type</em></em>:
lazy attribute set of lazy attribute set of package</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="flakedevshells"><a class="header" href="#flakedevshells">flake.devShells</a></h2>
<p>See {option}<code>perSystem.devShells</code> for description and examples.</p>
<p><em><em>Type</em></em>:
lazy attribute set of lazy attribute set of package</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="flakeformatter"><a class="header" href="#flakeformatter">flake.formatter</a></h2>
<p>An attribute set of per system a package used by <a href="https://nixos.org/manual/nix/stable/command-ref/new-cli/nix3-fmt.html"><code>nix fmt</code></a>.</p>
<p><em><em>Type</em></em>:
lazy attribute set of package</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="flakelegacypackages"><a class="header" href="#flakelegacypackages">flake.legacyPackages</a></h2>
<p>See {option}<code>perSystem.legacyPackages</code> for description and examples.</p>
<p><em><em>Type</em></em>:
lazy attribute set of lazy attribute set of raw value</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="flakenixosconfigurations"><a class="header" href="#flakenixosconfigurations">flake.nixosConfigurations</a></h2>
<p>Instantiated NixOS configurations. Used by <code>nixos-rebuild</code>.</p>
<p><code>nixosConfigurations</code> is for specific machines. If you want to expose
reusable configurations, add them to <a href="#opt-flake.nixosModules"><code>nixosModules</code></a>
in the form of modules (no <code>lib.nixosSystem</code>), so that you can reference
them in this or another flake's <code>nixosConfigurations</code>.</p>
<p><em><em>Type</em></em>:
lazy attribute set of raw value</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<p><em><em>Example</em></em></p>
<pre><code>{&quot;_type&quot;:&quot;literalExpression&quot;,&quot;text&quot;:&quot;{\n  my-machine = inputs.nixpkgs.lib.nixosSystem {\n    # system is not needed with freshly generated hardware-configuration.nix\n    # system = \&quot;x86_64-linux\&quot;;  # or set nixpkgs.hostPlatform in a module.\n    modules = [\n      ./my-machine/nixos-configuration.nix\n      config.nixosModules.my-module\n    ];\n  };\n}\n&quot;}
</code></pre>
<h2 id="flakenixosmodules"><a class="header" href="#flakenixosmodules">flake.nixosModules</a></h2>
<p>NixOS modules.</p>
<p>You may use this for reusable pieces of configuration, service modules, etc.</p>
<p><em><em>Type</em></em>:
lazy attribute set of unspecified value</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="flakeoverlays"><a class="header" href="#flakeoverlays">flake.overlays</a></h2>
<p>An attribute set of <a href="https://nixos.org/manual/nixpkgs/stable/#chap-overlays">overlays</a>.</p>
<p>Note that the overlays themselves are not mergeable. While overlays
can be composed, the order of composition is significant, but the
module system does not guarantee sufficiently deterministic
definition ordering, across versions and when changing <code>imports</code>.</p>
<p><em><em>Type</em></em>:
lazy attribute set of function that evaluates to a(n) function that evaluates to a(n) lazy attribute set of unspecified value</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<p><em><em>Example</em></em></p>
<pre><code>{&quot;_type&quot;:&quot;literalExpression&quot;,&quot;text&quot;:&quot;{\n  default = final: prev: {};\n}\n&quot;}
</code></pre>
<h2 id="flakepackages"><a class="header" href="#flakepackages">flake.packages</a></h2>
<p>See {option}<code>perSystem.packages</code> for description and examples.</p>
<p><em><em>Type</em></em>:
lazy attribute set of lazy attribute set of package</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="perinput"><a class="header" href="#perinput">perInput</a></h2>
<p>A function that pre-processes flake inputs.</p>
<p>It is called for users of <code>perSystem</code> such that <code>inputs'.${name} = config.perInput system inputs.${name}</code>.</p>
<p>This is used for <a href="../module-arguments.html#inputs"><code>inputs'</code></a> and <a href="../module-arguments.html#self"><code>self'</code></a>.</p>
<p>The attributes returned by the <code>perInput</code> function definitions are merged into a single namespace (per input), 
so each module should return an attribute set with usually only one or two predictable attribute names. Otherwise,
the <code>inputs'</code> namespace gets polluted.</p>
<p><em><em>Type</em></em>:
function that evaluates to a(n) function that evaluates to a(n) lazy attribute set of unspecified value</p>
<h2 id="persystem"><a class="header" href="#persystem">perSystem</a></h2>
<p>A function from system to flake-like attributes omitting the <code>&lt;system&gt;</code> attribute.</p>
<p>Modules defined here have access to the suboptions and <a href="../module-arguments.html">some convenient module arguments</a>.</p>
<p><em><em>Type</em></em>:
module</p>
<h2 id="persystemapps"><a class="header" href="#persystemapps">perSystem.apps</a></h2>
<p>Programs runnable with nix run <code>&lt;name&gt;</code>.</p>
<p><em><em>Type</em></em>:
lazy attribute set of (submodule)</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<p><em><em>Example</em></em></p>
<pre><code>{&quot;_type&quot;:&quot;literalExpression&quot;,&quot;text&quot;:&quot;{\n  default.program = \&quot;${config.packages.hello}/bin/hello\&quot;;\n}\n&quot;}
</code></pre>
<h2 id="persystemappsnameprogram"><a class="header" href="#persystemappsnameprogram">perSystem.apps.&lt;name&gt;.program</a></h2>
<p>A path to an executable or a derivation with <code>meta.mainProgram</code>.</p>
<p><em><em>Type</em></em>:
string or package convertible to it</p>
<h2 id="persystemappsnametype"><a class="header" href="#persystemappsnametype">perSystem.apps.&lt;name&gt;.type</a></h2>
<p>A type tag for <code>apps</code> consumers.</p>
<p><em><em>Type</em></em>:
value &quot;app&quot; (singular enum)</p>
<p><em><em>Default</em></em></p>
<pre><code>&quot;app&quot;
</code></pre>
<h2 id="persystemchecks"><a class="header" href="#persystemchecks">perSystem.checks</a></h2>
<p>Derivations to be built by <a href="https://nixos.org/manual/nix/stable/command-ref/new-cli/nix3-flake-check.html"><code>nix flake check</code></a>.</p>
<p><em><em>Type</em></em>:
lazy attribute set of package</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="persystemdebug"><a class="header" href="#persystemdebug">perSystem.debug</a></h2>
<p>Values to return in e.g. <code>allSystems.&lt;system&gt;</code> when
<a href="#opt-debug"><code>debug = true</code></a>.</p>
<p><em><em>Type</em></em>:
lazy attribute set of raw value</p>
<h2 id="persystemdevshells"><a class="header" href="#persystemdevshells">perSystem.devShells</a></h2>
<p>An attribute set of packages to be used as shells.
<a href="https://nixos.org/manual/nix/stable/command-ref/new-cli/nix3-develop.html"><code>nix develop .#&lt;name&gt;</code></a> will run <code>devShells.&lt;name&gt;</code>.</p>
<p><em><em>Type</em></em>:
lazy attribute set of package</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="persystemformatter"><a class="header" href="#persystemformatter">perSystem.formatter</a></h2>
<p>A package used by <a href="https://nixos.org/manual/nix/stable/command-ref/new-cli/nix3-fmt.html"><code>nix fmt</code></a>.</p>
<p><em><em>Type</em></em>:
null or package</p>
<p><em><em>Default</em></em></p>
<pre><code>null
</code></pre>
<h2 id="persystemlegacypackages"><a class="header" href="#persystemlegacypackages">perSystem.legacyPackages</a></h2>
<p>An attribute set of unmergeable values. This is also used by <a href="https://nixos.org/manual/nix/stable/command-ref/new-cli/nix3-build.html"><code>nix build .#&lt;attrpath&gt;</code></a>.</p>
<p><em><em>Type</em></em>:
lazy attribute set of raw value</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="persystemoffchain"><a class="header" href="#persystemoffchain">perSystem.offchain</a></h2>
<p>A CTL project declaration, with arbitrarily many bundles, a
devShell and optional tests.</p>
<p>In order to use this, your repository must provide the <code>cardano-transaction-lib</code> input.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
attribute set of (submodule)</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="persystemoffchainnamebundles"><a class="header" href="#persystemoffchainnamebundles">perSystem.offchain.&lt;name&gt;.bundles</a></h2>
<p>A map of bundles to be produced for this project.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
attribute set of (submodule)</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="persystemoffchainnamebundlesnamebrowserruntime"><a class="header" href="#persystemoffchainnamebundlesnamebrowserruntime">perSystem.offchain.&lt;name&gt;.bundles.&lt;name&gt;.browserRuntime</a></h2>
<p>Whether this bundle is being produced for a browser environment or
not.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>true
</code></pre>
<h2 id="persystemoffchainnamebundlesnamebundledmodulename"><a class="header" href="#persystemoffchainnamebundlesnamebundledmodulename">perSystem.offchain.&lt;name&gt;.bundles.&lt;name&gt;.bundledModuleName</a></h2>
<p>The name of the file containing the bundled JS module that
<code>spago bundle-module</code> will produce.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
string</p>
<p><em><em>Default</em></em></p>
<pre><code>&quot;output.js&quot;
</code></pre>
<h2 id="persystemoffchainnamebundlesnameenablecheck"><a class="header" href="#persystemoffchainnamebundlesnameenablecheck">perSystem.offchain.&lt;name&gt;.bundles.&lt;name&gt;.enableCheck</a></h2>
<p>Whether to add a flake check testing that the bundle builds
correctly.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>false
</code></pre>
<h2 id="persystemoffchainnamebundlesnameentrypointjs"><a class="header" href="#persystemoffchainnamebundlesnameentrypointjs">perSystem.offchain.&lt;name&gt;.bundles.&lt;name&gt;.entrypointJs</a></h2>
<p>Stringified path to the webpack <code>entrypoint</code> file.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
string</p>
<p><em><em>Default</em></em></p>
<pre><code>&quot;index.js&quot;
</code></pre>
<h2 id="persystemoffchainnamebundlesnameincludebundledmodule"><a class="header" href="#persystemoffchainnamebundlesnameincludebundledmodule">perSystem.offchain.&lt;name&gt;.bundles.&lt;name&gt;.includeBundledModule</a></h2>
<p>Whether to include the spago bundle-module output in <code>dist</code> in the bundle.</p>
<p>Added in: 2.2.2.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>true
</code></pre>
<h2 id="persystemoffchainnamebundlesnamemainmodule"><a class="header" href="#persystemoffchainnamebundlesnamemainmodule">perSystem.offchain.&lt;name&gt;.bundles.&lt;name&gt;.mainModule</a></h2>
<p>The main Purescript module for the bundle (for instance, 'Main').</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
string matching the pattern [[:upper:]][[:alnum:]]<em>(.[[:upper:]][[:alnum:]]</em>)*</p>
<h2 id="persystemoffchainnamebundlesnamewebpackconfig"><a class="header" href="#persystemoffchainnamebundlesnamewebpackconfig">perSystem.offchain.&lt;name&gt;.bundles.&lt;name&gt;.webpackConfig</a></h2>
<p>Stringified path to the Webpack config file to use.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
string</p>
<p><em><em>Default</em></em></p>
<pre><code>&quot;webpack.config.js&quot;
</code></pre>
<h2 id="persystemoffchainnamecompilestrict"><a class="header" href="#persystemoffchainnamecompilestrict">perSystem.offchain.&lt;name&gt;.compileStrict</a></h2>
<p>Whether to compile the PureScript source with <code>--strict</code></p>
<p>Added in: 2.8.0.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>true
</code></pre>
<h2 id="persystemoffchainnameenableformatcheck"><a class="header" href="#persystemoffchainnameenableformatcheck">perSystem.offchain.&lt;name&gt;.enableFormatCheck</a></h2>
<p>Whether to add a flake check verifying that the code
(including the flake.nix and any JS files in the project) has
been formatted.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>false
</code></pre>
<h2 id="persystemoffchainnameenablejslintcheck"><a class="header" href="#persystemoffchainnameenablejslintcheck">perSystem.offchain.&lt;name&gt;.enableJsLintCheck</a></h2>
<p>Whether to add a check verifying that the JS files in the
project have been linted.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>false
</code></pre>
<h2 id="persystemoffchainnameignoredwarningcodes"><a class="header" href="#persystemoffchainnameignoredwarningcodes">perSystem.offchain.&lt;name&gt;.ignoredWarningCodes</a></h2>
<p>Warnings from <code>purs</code> to silence during compilation.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
list of string</p>
<p><em><em>Default</em></em></p>
<pre><code>[]
</code></pre>
<h2 id="persystemoffchainnamenodejspackage"><a class="header" href="#persystemoffchainnamenodejspackage">perSystem.offchain.&lt;name&gt;.nodejsPackage</a></h2>
<p>The nodejs package to use.</p>
<p><em><em>Type</em></em>:
package</p>
<p><em><em>Default</em></em></p>
<pre><code>{&quot;_type&quot;:&quot;literalExpression&quot;,&quot;text&quot;:&quot;pkgs.nodejs-14_x&quot;}
</code></pre>
<h2 id="persystemoffchainnamepackagejson"><a class="header" href="#persystemoffchainnamepackagejson">perSystem.offchain.&lt;name&gt;.packageJson</a></h2>
<p>Path to the project's package.json file.</p>
<p>Added in: 2.6.0.</p>
<p><em><em>Type</em></em>:
path</p>
<h2 id="persystemoffchainnamepackagelock"><a class="header" href="#persystemoffchainnamepackagelock">perSystem.offchain.&lt;name&gt;.packageLock</a></h2>
<p>Path to the project's package-lock.json file.</p>
<p>Added in: 2.6.0.</p>
<p><em><em>Type</em></em>:
path</p>
<h2 id="persystemoffchainnamepkgs"><a class="header" href="#persystemoffchainnamepkgs">perSystem.offchain.&lt;name&gt;.pkgs</a></h2>
<p>Package set to use. If specified, you must also manually apply
CTL overlays.</p>
<p>Added in: 2.3.0.</p>
<p><em><em>Type</em></em>:
null or raw value</p>
<p><em><em>Default</em></em></p>
<pre><code>null
</code></pre>
<h2 id="persystemoffchainnameplutip"><a class="header" href="#persystemoffchainnameplutip">perSystem.offchain.&lt;name&gt;.plutip</a></h2>
<p>Options to configure the project's Plutip suite. If defined,
a flake check will be created which runs the tests.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
null or (submodule)</p>
<p><em><em>Default</em></em></p>
<pre><code>null
</code></pre>
<h2 id="persystemoffchainnameplutipbuildinputs"><a class="header" href="#persystemoffchainnameplutipbuildinputs">perSystem.offchain.&lt;name&gt;.plutip.buildInputs</a></h2>
<p>Additional packages passed through to the <code>buildInputs</code> of
the derivation.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
list of package</p>
<p><em><em>Default</em></em></p>
<pre><code>[]
</code></pre>
<h2 id="persystemoffchainnameplutiptestmain"><a class="header" href="#persystemoffchainnameplutiptestmain">perSystem.offchain.&lt;name&gt;.plutip.testMain</a></h2>
<p>The name of the main Purescript module containing the test suite.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
string matching the pattern [[:upper:]][[:alnum:]]<em>(.[[:upper:]][[:alnum:]]</em>)*</p>
<h2 id="persystemoffchainnameruntime"><a class="header" href="#persystemoffchainnameruntime">perSystem.offchain.&lt;name&gt;.runtime</a></h2>
<p>Options to configure CTL's runtime.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
submodule</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="persystemoffchainnameruntimeenablectlserver"><a class="header" href="#persystemoffchainnameruntimeenablectlserver">perSystem.offchain.&lt;name&gt;.runtime.enableCtlServer</a></h2>
<p>Whether to enable or disable the CTL server (used to apply
arguments to scripts and evaluate UPLC). Enabling this will
also add the ctl-server overlay.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>false
</code></pre>
<h2 id="persystemoffchainnameruntimeexposeconfig"><a class="header" href="#persystemoffchainnameruntimeexposeconfig">perSystem.offchain.&lt;name&gt;.runtime.exposeConfig</a></h2>
<p>Whether to expose the runtime config as an attribute set in
<code>packages</code>. Config is not a package so you may want to set it
to false.</p>
<p>Added in: 2.3.0.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>false
</code></pre>
<h2 id="persystemoffchainnameruntimeextraconfig"><a class="header" href="#persystemoffchainnameruntimeextraconfig">perSystem.offchain.&lt;name&gt;.runtime.extraConfig</a></h2>
<p>Additional config options to pass to the CTL runtime. See
<code>runtime.nix</code> in the CTL flake for a reference of the
available options.</p>
<p>By default, the runtime is set to use the <code>preview</code> network
and the same node version that CTL uses in its tests.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
attribute set of anything</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="persystemoffchainnameshell"><a class="header" href="#persystemoffchainnameshell">perSystem.offchain.&lt;name&gt;.shell</a></h2>
<p>Options to configure the project's devShell.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
submodule</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="persystemoffchainnameshellextracommandlinetools"><a class="header" href="#persystemoffchainnameshellextracommandlinetools">perSystem.offchain.&lt;name&gt;.shell.extraCommandLineTools</a></h2>
<p>List of extra packages to make available to the shell.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
list of package</p>
<p><em><em>Default</em></em></p>
<pre><code>[]
</code></pre>
<h2 id="persystemoffchainnameshellshellhook"><a class="header" href="#persystemoffchainnameshellshellhook">perSystem.offchain.&lt;name&gt;.shell.shellHook</a></h2>
<p>Shell code to run when the shell is started.</p>
<p>Added in: 2.3.0.</p>
<p><em><em>Type</em></em>:
strings concatenated with &quot;\n&quot;</p>
<p><em><em>Default</em></em></p>
<pre><code>&quot;&quot;
</code></pre>
<h2 id="persystemoffchainnamespagooverride"><a class="header" href="#persystemoffchainnamespagooverride">perSystem.offchain.&lt;name&gt;.spagoOverride</a></h2>
<p>Override <code>packages.dhall</code> and use given flake for spago module.</p>
<p>Added in: 2.3.1.</p>
<p><em><em>Type</em></em>:
attribute set of (A flake input of spago module)</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="persystemoffchainnamesrc"><a class="header" href="#persystemoffchainnamesrc">perSystem.offchain.&lt;name&gt;.src</a></h2>
<p>Path to the project's source code, including its package.json
and package-lock.json files.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
path</p>
<h2 id="persystemoffchainnametests"><a class="header" href="#persystemoffchainnametests">perSystem.offchain.&lt;name&gt;.tests</a></h2>
<p>Options to configure the project's (non-Plutip) tests. If defined,
a flake check will be created which runs the tests.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
null or (submodule)</p>
<p><em><em>Default</em></em></p>
<pre><code>null
</code></pre>
<h2 id="persystemoffchainnametestsbuildinputs"><a class="header" href="#persystemoffchainnametestsbuildinputs">perSystem.offchain.&lt;name&gt;.tests.buildInputs</a></h2>
<p>Additional packages passed through to the <code>buildInputs</code> of
the derivation.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
list of package</p>
<p><em><em>Default</em></em></p>
<pre><code>[]
</code></pre>
<h2 id="persystemoffchainnameteststestmain"><a class="header" href="#persystemoffchainnameteststestmain">perSystem.offchain.&lt;name&gt;.tests.testMain</a></h2>
<p>The name of the main Purescript module containing the test suite.</p>
<p>Added in: 2.1.0.</p>
<p><em><em>Type</em></em>:
string matching the pattern [[:upper:]][[:alnum:]]<em>(.[[:upper:]][[:alnum:]]</em>)*</p>
<h2 id="persystemonchain"><a class="header" href="#persystemonchain">perSystem.onchain</a></h2>
<p>On-chain project declaration</p>
<p><em><em>Type</em></em>:
attribute set of (submodule)</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="persystemonchainnameapplyrefact"><a class="header" href="#persystemonchainnameapplyrefact">perSystem.onchain.&lt;name&gt;.applyRefact</a></h2>
<p>Apply-refact-related options for the on-chain build.</p>
<p>Added in: 2.2.0</p>
<p><em><em>Type</em></em>:
submodule</p>
<h2 id="persystemonchainnameapplyrefactpackage"><a class="header" href="#persystemonchainnameapplyrefactpackage">perSystem.onchain.&lt;name&gt;.applyRefact.package</a></h2>
<p>The apply-refact package to use.</p>
<p><em><em>Type</em></em>:
package</p>
<p><em><em>Default</em></em></p>
<pre><code>{&quot;_type&quot;:&quot;literalExpression&quot;,&quot;text&quot;:&quot;pkgs.haskell.packages.ghc924.apply-refact_0_10_0_0&quot;}
</code></pre>
<h2 id="persystemonchainnamecabalfmt"><a class="header" href="#persystemonchainnamecabalfmt">perSystem.onchain.&lt;name&gt;.cabalFmt</a></h2>
<p>Cabal-fmt-related options for the on-chain build.</p>
<p>Added in: 2.2.0</p>
<p><em><em>Type</em></em>:
submodule</p>
<h2 id="persystemonchainnamecabalfmtpackage"><a class="header" href="#persystemonchainnamecabalfmtpackage">perSystem.onchain.&lt;name&gt;.cabalFmt.package</a></h2>
<p>The cabal-fmt package to use.</p>
<p><em><em>Type</em></em>:
package</p>
<p><em><em>Default</em></em></p>
<pre><code>{&quot;_type&quot;:&quot;literalExpression&quot;,&quot;text&quot;:&quot;pkgs.haskellPackages.cabal-fmt&quot;}
</code></pre>
<h2 id="persystemonchainnameenablebuildchecks"><a class="header" href="#persystemonchainnameenablebuildchecks">perSystem.onchain.&lt;name&gt;.enableBuildChecks</a></h2>
<p>Whether or not to enable adding the package builds to checks.</p>
<p>This is useful if you want to ensure package builds which are not tested by any tests.</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>true
</code></pre>
<h2 id="persystemonchainnameenablecabalformatcheck"><a class="header" href="#persystemonchainnameenablecabalformatcheck">perSystem.onchain.&lt;name&gt;.enableCabalFormatCheck</a></h2>
<p>Whether or not to check for Cabal formatting correctness.</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>true
</code></pre>
<h2 id="persystemonchainnameenablehaskellformatcheck"><a class="header" href="#persystemonchainnameenablehaskellformatcheck">perSystem.onchain.&lt;name&gt;.enableHaskellFormatCheck</a></h2>
<p>Whether or not to check for Haskell formatting correctness.</p>
<p>This will use the Haskell extensions configured in <code>ghc.extensions</code>.</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>true
</code></pre>
<h2 id="persystemonchainnameextrahackagedeps"><a class="header" href="#persystemonchainnameextrahackagedeps">perSystem.onchain.&lt;name&gt;.extraHackageDeps</a></h2>
<p>List of packages to add to the hackage provided to haskell.nix.</p>
<p>These are packages that are not available on the public hackage and are
manually sourced by your inputs.</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
list of string</p>
<p><em><em>Default</em></em></p>
<pre><code>[]
</code></pre>
<h2 id="persystemonchainnamefourmolu"><a class="header" href="#persystemonchainnamefourmolu">perSystem.onchain.&lt;name&gt;.fourmolu</a></h2>
<p>Fourmolu-related options for the on-chain build.</p>
<p>Added in: 2.2.0</p>
<p><em><em>Type</em></em>:
submodule</p>
<h2 id="persystemonchainnamefourmolupackage"><a class="header" href="#persystemonchainnamefourmolupackage">perSystem.onchain.&lt;name&gt;.fourmolu.package</a></h2>
<p>The fourmolu package to use.</p>
<p><em><em>Type</em></em>:
package</p>
<p><em><em>Default</em></em></p>
<pre><code>{&quot;_type&quot;:&quot;literalExpression&quot;,&quot;text&quot;:&quot;pkgs.haskell.packages.ghc924.fourmolu_0_9_0_0&quot;}
</code></pre>
<h2 id="persystemonchainnameghc"><a class="header" href="#persystemonchainnameghc">perSystem.onchain.&lt;name&gt;.ghc</a></h2>
<p>GHC-related options for the on-chain build.</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
submodule</p>
<h2 id="persystemonchainnameghcextensions"><a class="header" href="#persystemonchainnameghcextensions">perSystem.onchain.&lt;name&gt;.ghc.extensions</a></h2>
<p>The list of extensions to use with the project.
List them out without the '-X' prefix.</p>
<p>Example: [ &quot;TypeApplications&quot; &quot;QualifiedDo&quot; ]</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
list of string</p>
<p><em><em>Default</em></em></p>
<pre><code>[&quot;QuasiQuotes&quot;,&quot;TemplateHaskell&quot;,&quot;TypeApplications&quot;,&quot;ImportQualifiedPost&quot;,&quot;PatternSynonyms&quot;,&quot;OverloadedRecordDot&quot;]
</code></pre>
<h2 id="persystemonchainnameghcversion"><a class="header" href="#persystemonchainnameghcversion">perSystem.onchain.&lt;name&gt;.ghc.version</a></h2>
<p>The version name of GHC to use.</p>
<p>Examples: ghc923, ghc925, ghc8107.</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
string</p>
<p><em><em>Default</em></em></p>
<pre><code>&quot;ghc925&quot;
</code></pre>
<h2 id="persystemonchainnamehasktags"><a class="header" href="#persystemonchainnamehasktags">perSystem.onchain.&lt;name&gt;.hasktags</a></h2>
<p>Hasktags-related options for the on-chain build.</p>
<p>Added in: 2.2.0</p>
<p><em><em>Type</em></em>:
submodule</p>
<h2 id="persystemonchainnamehasktagspackage"><a class="header" href="#persystemonchainnamehasktagspackage">perSystem.onchain.&lt;name&gt;.hasktags.package</a></h2>
<p>The hasktags package to use.</p>
<p><em><em>Type</em></em>:
package</p>
<p><em><em>Default</em></em></p>
<pre><code>{&quot;_type&quot;:&quot;literalExpression&quot;,&quot;text&quot;:&quot;pkgs.haskell.packages.ghc924.hasktags&quot;}
</code></pre>
<h2 id="persystemonchainnamehlint"><a class="header" href="#persystemonchainnamehlint">perSystem.onchain.&lt;name&gt;.hlint</a></h2>
<p>HLint-related options for the on-chain build.</p>
<p>Added in: 2.2.0</p>
<p><em><em>Type</em></em>:
submodule</p>
<h2 id="persystemonchainnamehlintpackage"><a class="header" href="#persystemonchainnamehlintpackage">perSystem.onchain.&lt;name&gt;.hlint.package</a></h2>
<p>The hlint package to use.</p>
<p><em><em>Type</em></em>:
package</p>
<p><em><em>Default</em></em></p>
<pre><code>{&quot;_type&quot;:&quot;literalExpression&quot;,&quot;text&quot;:&quot;pkgs.haskell.packages.ghc924.hlint&quot;}
</code></pre>
<h2 id="persystemonchainnamehoogleimage"><a class="header" href="#persystemonchainnamehoogleimage">perSystem.onchain.&lt;name&gt;.hoogleImage</a></h2>
<p>Options for the hoogle image.</p>
<p>Added in: 2.5.0.</p>
<p><em><em>Type</em></em>:
submodule</p>
<h2 id="persystemonchainnamehoogleimageenable"><a class="header" href="#persystemonchainnamehoogleimageenable">perSystem.onchain.&lt;name&gt;.hoogleImage.enable</a></h2>
<p>Whether or not to expose a docker image bundling the hoogle server with the packages available.</p>
<p>Added in: 2.5.0.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>false
</code></pre>
<h2 id="persystemonchainnamehoogleimagehoogledirectory"><a class="header" href="#persystemonchainnamehoogleimagehoogledirectory">perSystem.onchain.&lt;name&gt;.hoogleImage.hoogleDirectory</a></h2>
<p>Path to copy hoogle data dir from.</p>
<p>Added in: 2.5.0.</p>
<p><em><em>Type</em></em>:
null or path</p>
<p><em><em>Default</em></em></p>
<pre><code>null
</code></pre>
<h2 id="persystemonchainnameshell"><a class="header" href="#persystemonchainnameshell">perSystem.onchain.&lt;name&gt;.shell</a></h2>
<p>Options for the dev shell.</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
submodule</p>
<h2 id="persystemonchainnameshellextracommandlinetools"><a class="header" href="#persystemonchainnameshellextracommandlinetools">perSystem.onchain.&lt;name&gt;.shell.extraCommandLineTools</a></h2>
<p>List of extra packages to make available to the shell.</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
list of package</p>
<p><em><em>Default</em></em></p>
<pre><code>[]
</code></pre>
<h2 id="persystemonchainnamesrc"><a class="header" href="#persystemonchainnamesrc">perSystem.onchain.&lt;name&gt;.src</a></h2>
<p>The source code of the project</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
path</p>
<h2 id="persystempackages"><a class="header" href="#persystempackages">perSystem.packages</a></h2>
<p>An attribute set of packages to be built by <a href="https://nixos.org/manual/nix/stable/command-ref/new-cli/nix3-build.html"><code>nix build</code></a>.</p>
<p><code>nix build .#&lt;name&gt;</code> will build <code>packages.&lt;name&gt;</code>.</p>
<p><em><em>Type</em></em>:
lazy attribute set of package</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="persystemrun"><a class="header" href="#persystemrun">perSystem.run</a></h2>
<p>Scripts that can be run using <code>nix run</code>.</p>
<p>These are intended to replace makefiles.</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
attribute set of (submodule)</p>
<p><em><em>Default</em></em></p>
<pre><code>{}
</code></pre>
<h2 id="persystemrunnamedependencies"><a class="header" href="#persystemrunnamedependencies">perSystem.run.&lt;name&gt;.dependencies</a></h2>
<p>The dependencies to include in the script's environment.</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
list of package</p>
<p><em><em>Default</em></em></p>
<pre><code>[]
</code></pre>
<h2 id="persystemrunnamedocheck"><a class="header" href="#persystemrunnamedocheck">perSystem.run.&lt;name&gt;.doCheck</a></h2>
<p>Whether this script should also be a check.</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>false
</code></pre>
<h2 id="persystemrunnamegroups"><a class="header" href="#persystemrunnamegroups">perSystem.run.&lt;name&gt;.groups</a></h2>
<p>Setting group allows running multiple run scripts all at once.</p>
<p>These groups will be aliases to all of the scripts that tagged them.</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
list of string</p>
<p><em><em>Default</em></em></p>
<pre><code>[]
</code></pre>
<h2 id="persystemrunnamehelp"><a class="header" href="#persystemrunnamehelp">perSystem.run.&lt;name&gt;.help</a></h2>
<p>Help message to provide when using <code>nix run .#help -- &lt;name&gt;</code>.</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
string</p>
<p><em><em>Default</em></em></p>
<pre><code>&quot;No help provided.&quot;
</code></pre>
<h2 id="persystemrunnamescript"><a class="header" href="#persystemrunnamescript">perSystem.run.&lt;name&gt;.script</a></h2>
<p>The script to run.</p>
<p>Added in: 2.0.0.</p>
<p><em><em>Type</em></em>:
string</p>
<h2 id="systems"><a class="header" href="#systems">systems</a></h2>
<p>All the system types to enumerate in the flake output subattributes.</p>
<p>In other words, all valid values for <code>system</code> in e.g. <code>packages.&lt;system&gt;.foo</code>.</p>
<p><em><em>Type</em></em>:
list of string</p>
<h2 id="transposition"><a class="header" href="#transposition">transposition</a></h2>
<p>A helper that defines transposed attributes in the flake outputs.</p>
<p>Transposition is the operation that swaps the indices of a data structure.
Here it refers specifically to the transposition between</p>
<pre><code class="language-plain">perSystem: .${system}.${attribute}
outputs:   .${attribute}.${system}
</code></pre>
<p>It also defines the reverse operation in <a href="#opt-perInput">{option}<code>perInput</code></a>.</p>
<p><em><em>Type</em></em>:
lazy attribute set of (submodule)</p>
<h2 id="transpositionnameadhoc"><a class="header" href="#transpositionnameadhoc">transposition.&lt;name&gt;.adHoc</a></h2>
<p>Whether to provide a stub option declaration for {option}<code>perSystem.&lt;name&gt;</code>.</p>
<p>The stub option declaration does not support merging and lacks
documentation, so you are recommended to declare the {option}<code>perSystem.&lt;name&gt;</code>
option yourself and avoid {option}<code>adHoc</code>.</p>
<p><em><em>Type</em></em>:
boolean</p>
<p><em><em>Default</em></em></p>
<pre><code>false
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
